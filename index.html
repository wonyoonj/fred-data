<!DOCTYPE html>
<html>
<head>
    <meta name="naver-site-verification" content="3c5e34898f2cef35432619edafb1d9362ab55063" />
    <meta name="google-site-verification" content="_jcjvlFGv3HiGbo85WZ6IU_dfDIQx2j2JH0k5uMHq7U" />
    <title>원뎅이의 미국 유동성 흐름 인사이트</title>
    <meta name="title" content="원뎅이의 미국 유동성 흐름 인사이트">
    <meta name="subject" content="실시간 지표 데이터를 통해, 현재 미국 시장의 유동성 흐름을 한눈에 파악해보세요!">
    <meta name="description" content="미국의 FED, 정부, MMF, 시장 간의 유동성 흐름을 애니메이션으로 한눈에 시각화하여 보여줍니다.">
    <meta name="keywords" content="미국, FED, 연준, 정부, MMF, 시장, 관세, 유동성, 역레포, 금리, 긴축, 양적완화, TGA잔고, SOFR, EFFR, 국채금리, 나스닥, S&P500, M2, M1, 지금준비금, 실시간, 트럼프, 파월, 베센트">

    <meta property="og:type" content="website">
    <meta property="og:title" content="원뎅이의 미국 유동성 흐름 인사이트">
    <meta property="og:description" content="미국의 FED, 정부, MMF, 시장, 관세 간의 유동성 흐름을 애니메이션으로 한눈에 시각화하여 보여줍니다.">
    <meta property="og:image" content="https://americayoudongsung.netlify.app/icon/government.JPG">
    <meta property="og:url" content="https://americayoudongsung.netlify.app/">

    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: 'Arial', sans-serif; margin: 0; padding: 0; background: #f4f4f4; color: #333; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; position: relative; min-height: 100vh; }
        .header { text-align: center; padding: 10px; background: #007bff; color: white; }
        .back-btn { position: absolute; top: 10px; left: 10px; background: none; border: none; cursor: pointer; font-size: 24px; font-weight: bold; color: black; width: 30px; text-align: center; }
        .back-btn::before { content: "◄"; font-size: 36px; }
        .info-btn { position: absolute; top: 10px; right: 10px; background: none; border: none; cursor: pointer; font-size: 20px; }
        .button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        .button:hover { background: #0056b3; }

        /* [수정 1] 페이지 제목 스타일 추가 */
        .page-title {
            position: absolute;
            top: 10px;
            left: 20px;
            font-size: 35px; /* 14px * 2.5 */
            font-weight: bold;
            color: black;
        }

        /* [추가 3] 메인 페이지 자료 출처 스타일 */
        .source-credit-main {
            position: absolute;
            top: 45px;
            right: 15px;
            font-size: 12px;
            font-weight: bold;
            color: #555;
        }

        #liquidityFlow, #interestRateFlow {
            text-align: center;
            padding: 20px;
            position: relative;
            height: 650px; /* 수정됨: 아이콘 이동에 따른 높이 확보 */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        #liquidityFlow .icon-container, #interestRateFlow .icon-container {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transform: translate(-50%, -50%);
        }
        #liquidityFlow .icon, #interestRateFlow .icon {
            width: 80px;
            height: 80px;
            display: block;
            object-fit: contain;
        }
        #liquidityFlow .icon-label, #interestRateFlow .icon-label {
            font-weight: bold;
            color: black;
            font-size: 14px;
            white-space: nowrap;
            margin-top: 5px;
        }

        .FED-container .icon-label {
            order: -1;
            margin-bottom: 5px;
            margin-top: 0;
        }

        /* 아이콘 위치 수정됨 */
        .FED-container { top: 20%; left: 50%; }
        .Government-container { top: 57%; left: 20%; } /* 수정됨 */
        .Market-container { top: 90%; left: 50%; } /* 수정됨 */
        .MMF-container { top: 57%; left: 80%; } /* 수정됨 */

        #tgaSlopeDisplay, #fedLiquidityDisplay, #mmfToRrpDisplay, #mmfToMarketDisplay,
        #tgaSlopeDisplay_interest, #fedLiquidityDisplay_interest, #mmfToRrpDisplay_interest, #mmfToMarketDisplay_interest {
            position: absolute;
            transform: translateX(-50%);
            font-size: 0.8em;
            font-weight: bold;
            z-index: 10;
            background: rgba(255, 255, 255, 0.8);
            padding: 3px 6px;
            border-radius: 5px;
            border: 1px solid #ccc;
            text-align: center;
        }

        /* [수정 1 시작] 시장 아이콘 아래 계산 결과값 위치 */
        #netMarketFlowDisplay, #netMarketFlowDisplay_interest {
            display: inline-block;
            top: -40%;
            left: 50%;
            background: none;
            border: none;
            font-size: 0.9em;
            min-width: 200px;
        }
        /* [수정 1 끝] */

        /* 팝업 컨테이너 및 팝업 스타일 */
        .tga-popup-container, .fed-popup-container, .mmf-fed-popup-container, .mmf-market-popup-container {
            position: absolute;
            z-index: 20;
        }

        .tga-popup-container:hover,
        .fed-popup-container:hover,
        .mmf-fed-popup-container:hover,
        .mmf-market-popup-container:hover {
            z-index: 30; /* 마우스를 올렸을 때 z-index를 높여 최상단으로 올림 */
        }

        /* 레이블 위치 수정됨 */
        .tga-popup-container {
            top: calc(60% + 40px + 5px); /* 수정됨 */
            left: 30%; /* 수정됨 */
            transform: translateX(-50%);
        }

        .fed-popup-container {
            top: calc(38% - 40px - 10px); /* 수정됨 */
            left: 45%; /* 수정됨 */
            transform: translateX(-50%);
        }

        .mmf-fed-popup-container {
            top: calc(50% - 40px - 10px); /* 수정됨 */
            left: 80%; /* 수정됨 */
            transform: translateX(-50%);
        }

        .mmf-market-popup-container {
            top: calc(63% + 40px); /* 수정됨 */
            left: 80%;
            transform: translateX(-50%);
        }

        .tooltip-container {
            visibility: hidden;
            background-color: #555;
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            /* 팝업 창이 모든 레이블보다 앞에 표시되도록 z-index 값을 매우 높게 설정 */
            z-index: 9999;
            /* 기본 위치는 위쪽 */
            bottom: 100%;
            left: 50%;
            margin-left: -100px;
            width: 180px;
            opacity: 0;
            transition: opacity 0.3s;
            line-height: 1.5;
            white-space: normal;
        }

        /* 수정됨: 아래에 표시될 툴팁 스타일 */
        .fed-popup-container .tooltip-container,
        .mmf-fed-popup-container .tooltip-container,
        .tooltip-container.bottom-tip {
            top: 100%;
            bottom: auto;
        }

        /* 수정됨: 위에 표시될 툴팁의 화살표 */
        .tooltip-container::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #555 transparent transparent transparent;
        }

        /* 수정됨: 아래에 표시될 툴팁의 화살표 */
        .fed-popup-container .tooltip-container::after,
        .mmf-fed-popup-container .tooltip-container::after,
        .tooltip-container.bottom-tip::after {
            top: -5px;
            bottom: 100%;
            border-color: transparent transparent #555 transparent;
        }

        .tooltip-container h4 {
            margin: 0 0 5px 0;
            font-size: 14px;
            font-weight: bold;
        }
        .tooltip-container p {
            margin: 0;
            font-size: 12px;
        }

        .popup-label {
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            color: black;
            white-space: nowrap;
            font-weight: bold;
            display: inline-block;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative; /* 자식 툴팁을 위해 필요 */
        }
        .popup-label span {
            font-weight: normal;
        }
        .popup-label:hover .tooltip-container {
            visibility: visible;
            opacity: 1;
        }

        .graph-button-container {
            margin-top: 5px;
            text-align: center;
        }
        .graph-button {
            padding: 5px 10px;
            font-size: 12px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
        }
        .graph-button:hover {
            background-color: #0056b3;
        }


        .arrow {
            position: absolute;
            border: none;
            background: none;
            pointer-events: none;
            z-index: 10;
        }

        .arrow-path {
            stroke: black;
            stroke-width: 2;
            fill: none;
        }

        .arrow-head {
            fill: black;
        }
        .animated-dollar {
            position: absolute;
            width: 30px;
            height: 30px;
            z-index: 15;
            display: none;
            animation-iteration-count: infinite;
            animation-timing-function: linear;
            animation-duration: 4s;
        }

        .dollar-to-tga { animation-name: dollar-to-tga; }
        .dollar-to-fed { animation-name: dollar-to-fed; }
        .dollar-to-market { animation-name: dollar-to-market; }
        .dollar-to-mmf { animation-name: dollar-to-mmf; }
        .dollar-to-market-direct { animation-name: dollar-to-market-direct; }

        @keyframes dollar-to-tga {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 50%; top: 20%; }
            20% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 50%; top: 20%; }
            50% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 35%; top: 38.5%; }
            80% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 20%; top: 57%; }
            100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 20%; top: 57%; }
        }
        @keyframes dollar-to-fed {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 20%; top: 57%; }
            20% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 20%; top: 57%; }
            50% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 35%; top: 38.5%; }
            80% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 50%; top: 20%; }
            100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 50%; top: 20%; }
        }
        @keyframes dollar-to-market {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 50%; top: 20%; }
            20% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 50%; top: 20%; }
            50% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 50%; top: 55%; }
            80% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 50%; top: 90%; }
            100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 50%; top: 90%; }
        }
        @keyframes dollar-to-mmf {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 80%; top: 57%; } /* 수정 */
            20% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 80%; top: 57%; } /* 수정 */
            80% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 50%; top: 20%; }
            100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 50%; top: 20%; }
        }
        @keyframes dollar-to-market-direct {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 80%; top: 57%; } /* 수정 */
            20% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 80%; top: 57%; } /* 수정 */
            50% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 65%; top: 73.5%; }
            80% { transform: translate(-50%, -50%) scale(1); opacity: 1; left: 50%; top: 90%; }
            100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; left: 50%; top: 90%; }
        }

        .page {
            display: none;
        }

        #graphPage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 90%;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: auto;
            text-align: center;
        }

        .chart-container {
            width: 100%;
            height: 80%;
        }
        #myChart {
            width: 100% !important;
            height: 100% !important;
        }
        .chart-title {
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: bold;
        }

        /* [추가] 금리 현황 관련 CSS */
        .interest-rate-info {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 20px;
            font-size: 12px;
            color: #555;
        }
    </style>
</head>
<body>

<div id="mainPage" class="page">
    <h1 class="page-title">원뎅이의 미국 유동성 흐름 인사이트</h1>
    <div class="source-credit-main">자료 출처: FRED, Office of Financial Research (OFR)</div>
    <div class="header">
        <button class="button" onclick="showPage('liquidityFlowPage')">유동성 흐름 현황</button>
        <button class="button" onclick="showPage('interestRateFlowPage')">금리 현황</button>
    </div>
</div>

<div id="liquidityFlowPage" class="page">
    <button class="back-btn" onclick="showPage('mainPage')"></button>
    <div id="liquidityFlow">
        <div class="FED-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/fed.JPG" alt="FED" class="icon">
            <span class="icon-label">FED</span>
        </div>
        <div class="Government-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/government.JPG" alt="Government" class="icon">
            <span class="icon-label">Government</span>
        </div>
        <div class="Market-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/market.JPG" alt="Market" class="icon">
            <span class="icon-label">Market</span>
            <div id="netMarketFlowDisplay" class="info-label"></div>
        </div>
        <div class="MMF-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/mmf.JPG" alt="MMF" class="icon">
            <span class="icon-label">MMF</span>
        </div>
        <svg id="arrow-svg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></svg>
        <div class="animated-dollar dollar-to-tga" id="dollar-tga" style="display:none;">
            <img src="https://americayoudongsung.netlify.app/icon/dollar.JPG" alt="dollar">
        </div>
        <div class="animated-dollar dollar-to-fed" id="dollar-fed" style="display:none;">
            <img src="https://americayoudongsung.netlify.app/icon/dollar.JPG" alt="dollar">
        </div>
        <div class="animated-dollar dollar-to-market" id="dollar-market" style="display:none;">
            <img src="https://americayoudongsung.netlify.app/icon/dollar.JPG" alt="dollar">
        </div>
        <div class="animated-dollar dollar-to-mmf" id="dollar-mmf" style="display:none;">
            <img src="https://americayoudongsung.netlify.app/icon/dollar.JPG" alt="dollar">
        </div>
        <div class="animated-dollar dollar-to-market-direct" id="dollar-market-direct" style="display:none;">
            <img src="https://americayoudongsung.netlify.app/icon/dollar.JPG" alt="dollar">
        </div>

        <div class="tga-popup-container">
            <div id="tgaSlopeDisplay"></div>
            <div class="tooltip-container" id="tga-tooltip-content">
                <p><b>정부 -> FED:</b><br>정부의 은행 계좌인 TGA 잔고가 FED로 이동하는 양의 변화를 나타냅니다.</p>
                <hr>
                <p><b>+양수 :</b> 정부가 자금을 축적(국채 발행), 시중 유동성 흡수<br><b>-음수 :</b> 정부가 자금을 방출, 시중 유동성 공급</p>
                <hr>
                <p>최신 값과 업데이트 날짜는 오른쪽의 텍스트에 표시됩니다.</p>
                <div class="graph-button-container">
                    <button class="graph-button" onclick="showGraph('WTREGEN')">그래프</button>
                </div>
            </div>
        </div>

        <div class="fed-popup-container">
            <div id="fedLiquidityDisplay"></div>
            <div class="tooltip-container" id="fed-tooltip-content">
                <p><b>FED -> 시중은행:</b><br>연준의 자산 및 부채 변화를 통해 시중은행에 공급/흡수되는 유동성 변화를 나타냅니다.</p>
                <hr>
                <p><b>+양수 :</b> 연준이 양적 완화를 통해 시중은행에 유동성을 공급하는 상황<br><b>-음수 :</b> 연준이 양적 긴축을 통해 시중은행에 유동성을 흡수하는 상황</p>
                <hr>
                <p>최신 값과 업데이트 날짜는 오른쪽의 텍스트에 표시됩니다.</p>
                <div class="graph-button-container">
                    <button class="graph-button" onclick="showGraph('WALCL')">그래프</button>
                </div>
            </div>
        </div>

        <div class="mmf-fed-popup-container">
            <div id="mmfToRrpDisplay"></div>
            <div class="tooltip-container" id="mmf-fed-tooltip-content">
                <p><b>MMF -> FED:</b><br>MMF(머니마켓펀드)가 연준의 역레포(Reverse Repo)를 통해 연준에 자금을 예치하는 양의 변화를 나타냅니다.</p>
                <hr>
                <p><b>+양수 :</b> MMF가 연준에 자금을 예치하는 상황, 시중 유동성 흡수<br><b>-음수 :</b> 연준에 예치했던 자금을 회수, 시중 유동성 공급</p>
                <hr>
                <p>최신 값과 업데이트 날짜는 오른쪽의 텍스트에 표시됩니다.</p>
                <div class="graph-button-container">
                    <button class="graph-button" onclick="showGraph('RRPONTSYD')">그래프</button>
                </div>
            </div>
        </div>

        <div class="mmf-market-popup-container">
            <div id="mmfToMarketDisplay"></div>
            <div class="tooltip-container" id="mmf-market-tooltip-content">
                <p><b>MMF -> 시장:</b><br>MMF(머니마켓펀드)가 시장(증권사, 은행 등)에 자금을 대출해주는 양의 변화를 나타냅니다.</p>
                <hr>
                <p><b>+양수 :</b> MMF가 시장에 자금 공급<br><b>-음수 :</b> 시장이 MMF에 자금 투자</p>
                <hr>
                <p>최신 값과 업데이트 날짜는 오른쪽의 텍스트에 표시됩니다.</p>
                <div class="graph-button-container">
                    <button class="graph-button" onclick="showGraph('MMMFFAQ027S')">그래프</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="interestRateFlowPage" class="page" style="display:none;">
    <button class="back-btn" onclick="showPage('mainPage')"></button>
    <h1 class="page-title">원뎅이의 미국 유동성 흐름 인사이트</h1>
    <div class="source-credit-main">자료 출처: FRED, Office of Financial Research (OFR)</div>
    <div id="interestRateFlow">
        <div class="FED-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/fed.JPG" alt="FED" class="icon">
            <span class="icon-label">FED</span>
        </div>
        <div class="Government-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/government.JPG" alt="Government" class="icon">
            <span class="icon-label">Government</span>
        </div>
        <div class="Market-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/market.JPG" alt="Market" class="icon">
            <span class="icon-label">Market</span>
            <div id="netMarketFlowDisplay_interest" class="info-label"></div>
        </div>
        <div class="MMF-container icon-container">
            <img src="https://americayoudongsung.netlify.app/icon/mmf.JPG" alt="MMF" class="icon">
            <span class="icon-label">MMF</span>
        </div>
        <svg id="arrow-svg_interest" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></svg>

        <div class="tga-popup-container">
            <div id="tgaSlopeDisplay_interest">
                <div class="popup-label" onmouseover="this.querySelector('.tooltip-container').style.visibility='visible'; this.querySelector('.tooltip-container').style.opacity='1';" onmouseout="this.querySelector('.tooltip-container').style.visibility='hidden'; this.querySelector('.tooltip-container').style.opacity='0';">
                    SOFR 금리 : <span id="sofr-value" style="color: black;">4.35%</span>
                    <br>
                    Update Date: <span id="sofr-date" style="color: black;">2025-08-07</span>
                    <div class="tooltip-container" id="sofr-tooltip-content">
                        <p>SOFR 금리는 미국에서 한밤사이 동안 담보(예: 국채)를 기반으로 한 대출 거래의 이자율을 평균한 기준 금리입니다. 즉, SOFR은 금융기관(예: 증권사, 은행 등)이 다른 금융기관에 담보를 제공하고 자금을 빌리는 비용을 나타냅니다.</p>
                        <p>어떤 지표인가? : SOFR은 단기 자금 시장의 유동성과 수요-공급 상황을 반영합니다. 예를 들어, 시장에 자금이 부족하면 SOFR이 상승하고, 자금이 풍부하면 하락합니다. 시중에 자금이 넘치는지, 안넘치는지의 지표가 될 수 있습니다.</p>
                        <div class="graph-button-container">
                            <button class="graph-button" onclick="showGraph('SOFR', 'SOFR 금리')">그래프</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="fed-popup-container">
            <div id="fedLiquidityDisplay_interest">
                <div class="popup-label" onmouseover="this.querySelector('.tooltip-container').style.visibility='visible'; this.querySelector('.tooltip-container').style.opacity='1';" onmouseout="this.querySelector('.tooltip-container').style.visibility='hidden'; this.querySelector('.tooltip-container').style.opacity='0';">
                    EFFR 금리 : <span id="effr-value" style="color: black;">4.33%</span>
                    <br>
                    Update Date: <span id="effr-date" style="color: black;">2025-08-07</span>
                    <div class="tooltip-container bottom-tip" id="effr-tooltip-content">
                        <p>EFFR 금리는 은행들이 연준에 예치된 자금을 상호 대출할 때 적용되는 실제 금리를 의미합니다. 연준 기준 금리와 밀접하게 연관됩니다.</p>
                        <p>어떤 지표인가? : EFFR은 연준의 통화 정책 방향을 보여주며, 경제 성장, 인플레이션, 고용에 영향을 미칩니다. 예를 들면, EFFR 금리가 높다는건, 은행간의 대출 부담을 높여서 시중에 빌리는 돈의 규모를 축소한다는 의미가 될 수 있습니다. 결과적으로 긴축 효과를 냅니다.</p>
                        <div class="graph-button-container">
                            <button class="graph-button" onclick="showGraph('EFFR', 'EFFR 금리')">그래프</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mmf-fed-popup-container">
            <div id="mmfToRrpDisplay_interest">
                <div class="popup-label" onmouseover="this.querySelector('.tooltip-container').style.visibility='visible'; this.querySelector('.tooltip-container').style.opacity='1';" onmouseout="this.querySelector('.tooltip-container').style.visibility='hidden'; this.querySelector('.tooltip-container').style.opacity='0';">
                    역레포 금리 : <span id="rrp-value" style="color: black;">4.25%</span>
                    <br>
                    Update Date: <span id="rrp-date" style="color: black;">2025-08-08</span>
                    <div class="tooltip-container bottom-tip" id="rrp-tooltip-content">
                        <p>연준이 금융기관으로부터 자금을 빌릴 때 지급하는 금리로, 시중에 넘치는 유동성을 흡수하기 위한 기준 금리입니다. 즉, 금리가 높아질수록 시중의 유동성을 흡수하는 역할을 합니다.</p>
                        <p>어떤 지표인가? : 시장의 유동성이 지나치게 풍부할 때 연준의 의도로 금리가 떨어지는 것을 막는 역할을 합니다.</p>
                        <div class="graph-button-container">
                            <button class="graph-button" onclick="showGraph('RRPONTSYD', '역레포 금리')">그래프</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mmf-market-popup-container" style="top: calc(63% + 40px); left: 80%; transform: translateX(-50%);">
            <div id="mmfToMarketDisplay_interest">
                <div class="popup-label" onmouseover="this.querySelector('.tooltip-container').style.visibility='visible'; this.querySelector('.tooltip-container').style.opacity='1';" onmouseout="this.querySelector('.tooltip-container').style.visibility='hidden'; this.querySelector('.tooltip-container').style.opacity='0';">
                    3개월 미 국채금리 : <span id="3m-treasury-value" style="color: black;">4.32%</span>
                    <br>
                    Update Date: <span id="3m-treasury-date" style="color: black;">2025-08-07</span>
                    <div class="tooltip-container" id="3m-treasury-tooltip-content">
                        <p>3개월 만기 미국 재무부 증권의 수익률로, 단기 시장 금리와 인플레이션 기대치를 반영합니다.</p>
                        <p>어떤 지표인가? : 단기 금리 동향을 파악하고, 경제 회복 또는 침체 신호를 분석하는 데 유용합니다. 금리가 상승한다는 의미는, 미국 정부가 국채 발행을 많이해서 원하는 곳에 돈을 많이 풀고 싶다는 간접적인 의미가 될 수 있고, 반대로 미국채 수요가 적어서 금리가 상승할 수 있습니다.</p>
                        <div class="graph-button-container">
                            <button class="graph-button" onclick="showGraph('DGS3MO', '3개월 미 국채금리')">그래프</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mmf-market-popup-container" style="top: calc(63% + 40px + 100px); left: 80%; transform: translateX(-50%);">
            <div id="1y-treasury-display">
                <div class="popup-label" onmouseover="this.querySelector('.tooltip-container').style.visibility='visible'; this.querySelector('.tooltip-container').style.opacity='1';" onmouseout="this.querySelector('.tooltip-container').style.visibility='hidden'; this.querySelector('.tooltip-container').style.opacity='0';">
                    1년물 미 국채금리 : <span id="1y-treasury-value" style="color: black;">3.92%</span>
                    <br>
                    Update Date: <span id="1y-treasury-date" style="color: black;">2025-08-07</span>
                    <div class="tooltip-container" id="1y-treasury-tooltip-content">
                        <p>1년 만기 미국 재무부 증권의 수익률로, 중단기 금리와 경제 전망을 반영합니다.</p>
                        <p>어떤 지표인가? : 단기와 장기 금리 간 관계를 통해 경제 성장 기대치나 인플레이션 우려를 파악할 수 있어, 투자자와 정책 입안자에게 중요합니다. 또한 금리가 상승한다는 의미는, 미국 정부가 국채 발행을 많이해서 원하는 곳에 돈을 많이 풀고 싶다는 간접적인 의미가 될 수 있고, 반대로 미국채 수요가 적어서 금리가 상승할 수 있습니다.</p>
                        <div class="graph-button-container">
                            <button class="graph-button" onclick="showGraph('DGS1', '1년물 미 국채금리')">그래프</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mmf-fed-popup-container" style="top: calc(50% - 40px - 10px); left: 80% + 40%; transform: translateX(-50%);">
            <div id="discount-rate-display">
                <div class="popup-label" onmouseover="this.querySelector('.tooltip-container').style.visibility='visible'; this.querySelector('.tooltip-container').style.opacity='1';" onmouseout="this.querySelector('.tooltip-container').style.visibility='hidden'; this.querySelector('.tooltip-container').style.opacity='0';">
                    연준 할인율 : <span id="discount-rate-value" style="color: black;">4.50%</span>
                    <br>
                    Update Date: <span id="discount-rate-date" style="color: black;">2025-08-07</span>
                    <div class="tooltip-container bottom-tip" id="discount-rate-tooltip-content">
                        <p>연준 할인율은 연준이 상업 은행에 대출할 때 적용하는 이자율로, 금융기관의 자금 조달 비용을 결정합니다. 할인율이 낮게 되면, 연준이 시중 은행에 돈을 풀고 싶다는 의미가 될 수 있습니다.</p>
                        <p>어떤 지표인가? : 은행의 유동성 지원과 신용 경색 방지에 사용되며, 연준의 긴급 통화 정책을 평가하는 데 중요합니다.</p>
                        <div class="graph-button-container">
                            <button class="graph-button" onclick="showGraph('DPCREDIT', '연준 할인율')">그래프</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="graphPage" class="page">
    <button class="back-btn" onclick="showPage('interestRateFlowPage')"></button>
    <h2 class="chart-title"></h2>
    <div class="chart-container">
        <canvas id="myChart"></canvas>
    </div>
    <div class="interest-rate-info">
        <span id="rate-value-display"></span>
        <span id="rate-date-display"></span>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        showPage('mainPage');
        loadData();
    });

    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.style.display = 'none';
        });
        document.getElementById(pageId).style.display = 'block';
    }

    const indicatorTitles = {
        'SOFR': 'SOFR 금리',
        'EFFR': 'EFFR 금리',
        'RRPONTSYD': '역레포 금리',
        'DGS3MO': '3개월 미 국채금리',
        'DGS1': '1년물 미 국채금리',
        'DPCREDIT': '연준 할인율',
        'WTREGEN': 'TGA 잔고',
        'WALCL': '연준 자산',
        'WRESBAL': '은행 지급준비금',
        'MMMFFAQ027S': '정부채 MMF 잔고'
    };
    const indicatorTooltips = {
        'SOFR': {
            'title': 'SOFR 금리',
            'content': {
                '경제적 의미': 'SOFR 금리는 미국에서 한밤사이 동안 담보(예: 국채)를 기반으로 한 대출 거래의 이자율을 평균한 기준 금리입니다. 즉, SOFR은 금융기관(예: 증권사, 은행 등)이 다른 금융기관에 담보를 제공하고 자금을 빌리는 비용을 나타냅니다.',
                '어떤 지표인가': 'SOFR은 단기 자금 시장의 유동성과 수요-공급 상황을 반영합니다. 예를 들어, 시장에 자금이 부족하면 SOFR이 상승하고, 자금이 풍부하면 하락합니다. 시중에 자금이 넘치는지, 안넘치는지의 지표가 될 수 있습니다.'
            }
        },
        'EFFR': {
            'title': 'EFFR 금리',
            'content': {
                '경제적 의미': 'EFFR 금리는 은행들이 연준에 예치된 자금을 상호 대출할 때 적용되는 실제 금리를 의미합니다. 연준 기준 금리와 밀접하게 연관됩니다.',
                '어떤 지표인가': 'EFFR은 연준의 통화 정책 방향을 보여주며, 경제 성장, 인플레이션, 고용에 영향을 미칩니다. 예를 들면, EFFR 금리가 높다는건, 은행간의 대출 부담을 높여서 시중에 빌리는 돈의 규모를 축소한다는 의미가 될 수 있습니다. 결과적으로 긴축 효과를 냅니다.'
            }
        },
        'RRPONTSYD': {
            'title': '역레포 금리',
            'content': {
                '경제적 의미': '연준이 금융기관으로부터 자금을 빌릴 때 지급하는 금리로, 시중에 넘치는 유동성을 흡수하기 위한 기준 금리입니다. 즉, 금리가 높아질수록 시중의 유동성을 흡수하는 역할을 합니다.',
                '어떤 지표인가': '시장의 유동성이 지나치게 풍부할 때 연준의 의도로 금리가 떨어지는 것을 막는 역할을 합니다.'
            }
        },
        'DGS3MO': {
            'title': '3개월 미 국채금리',
            'content': {
                '경제적 의미': '3개월 만기 미국 재무부 증권의 수익률로, 단기 시장 금리와 인플레이션 기대치를 반영합니다.',
                '어떤 지표인가': '단기 금리 동향을 파악하고, 경제 회복 또는 침체 신호를 분석하는 데 유용합니다. 금리가 상승한다는 의미는, 미국 정부가 국채 발행을 많이해서 원하는 곳에 돈을 많이 풀고 싶다는 간접적인 의미가 될 수 있고, 반대로 미국채 수요가 적어서 금리가 상승할 수 있습니다.'
            }
        },
        'DGS1': {
            'title': '1년물 미 국채금리',
            'content': {
                '경제적 의미': '1년 만기 미국 재무부 증권의 수익률로, 중단기 금리와 경제 전망을 반영합니다.',
                '어떤 지표인가': '단기와 장기 금리 간 관계를 통해 경제 성장 기대치나 인플레이션 우려를 파악할 수 있어, 투자자와 정책 입안자에게 중요합니다. 또한 금리가 상승한다는 의미는, 미국 정부가 국채 발행을 많이해서 원하는 곳에 돈을 많이 풀고 싶다는 간접적인 의미가 될 수 있고, 반대로 미국채 수요가 적어서 금리가 상승할 수 있습니다.'
            }
        },
        'DPCREDIT': {
            'title': '연준 할인율',
            'content': {
                '경제적 의미': '연준 할인율은 연준이 상업 은행에 대출할 때 적용하는 이자율로, 금융기관의 자금 조달 비용을 결정합니다. 할인율이 낮게 되면, 연준이 시중 은행에 돈을 풀고 싶다는 의미가 될 수 있습니다.',
                '어떤 지표인가': '은행의 유동성 지원과 신용 경색 방지에 사용되며, 연준의 긴급 통화 정책을 평가하는 데 중요합니다.'
            }
        },
        'WTREGEN': {
            'title': 'TGA 잔고',
            'content': {
                '경제적 의미': '재무부의 일반 계좌(TGA)에 쌓여있는 잔고입니다. 이 잔고는 정부의 세수와 지출에 따라 변동하며, 시중 유동성에 직접적인 영향을 미칩니다.',
                '왜 필요한 지표인가': '정부가 국채를 발행하거나 세금을 징수하면 TGA 잔고가 증가하고, 이는 시중의 유동성을 흡수합니다. 반대로 정부가 지출을 늘리면 TGA 잔고가 감소하고, 시중에 유동성을 공급합니다. 이는 시장의 단기 유동성 변동을 이해하는 데 중요한 지표입니다.'
            }
        },
        'WALCL': {
            'title': '연준 자산',
            'content': {
                '경제적 의미': '연준이 보유한 총 자산의 양을 나타냅니다. 주로 국채와 모기지유동화증권(MBS) 등으로 구성됩니다.',
                '왜 필요한 지표인가': '양적 완화(QE)를 통해 연준이 자산을 매입하면 WALCL이 증가하고, 시장에 유동성이 공급됩니다. 양적 긴축(QT)을 통해 자산을 매각하면 WALCL이 감소하고, 시장의 유동성을 흡수합니다. 이는 연준의 통화정책 방향을 파악하는 핵심 지표입니다.'
            }
        },
        'RRPONTSYD': {
            'title': 'MMF의 역레포 잔고',
            'content': {
                '경제적 의미': 'MMF 등 금융기관이 연준에 자금을 예치하고 국채를 담보로 받는 거래(역레포)의 잔고입니다. 시중의 초과 유동성을 흡수하는 역할을 합니다.',
                '왜 필요한 지표인가': 'RRP 잔고가 증가하면 시중 유동성이 연준으로 흘러들어가는 것을 의미하며, 시장의 단기 자금에 대한 수요가 부족하다는 신호일 수 있습니다. 이는 연준의 금리 하한선을 지지하는 중요한 역할을 합니다.'
            }
        },
        'MMMFFAQ027S': {
            'title': '정부채 MMF 잔고',
            'content': {
                '경제적 의미': 'MMF(머니마켓펀드) 중에서도 국채 등 정부 발행 증권에 투자하는 펀드의 총 잔고입니다.',
                '왜 필요한 지표인가': '이는 단기 채권 시장의 자금 수요와 공급을 보여주는 지표입니다. MMF는 주로 안전한 단기 자산에 투자하므로, 이 잔고는 금융 시스템 내의 유동성 상황과 위험 회피 성향을 파악하는 데 유용합니다. 정부가 국채를 많이 발행하면 MMF가 이 국채를 매입하면서 잔고가 증가할 수 있습니다.'
            }
        },
    };
    
    // 그래프 페이지 렌더링 함수
    function showGraph(indicator, title) {
        showPage('graphPage');
        document.querySelector('.chart-title').textContent = title;
        // fetchAndRenderChart(indicator);
    }
</script>
</body>
</html>